From 815d86ade6b8f8075995805aaf5a6dc95e56e410 Mon Sep 17 00:00:00 2001
From: Haoyong Xu <xuhy15@lenovo.com>
Date: Mon, 05 Aug 2024 19:04:26 +0800
Subject: [PATCH] [GEROLFING-336]:PowerManagerment migration for lapis [SpiHal-interface] [scope of influence]:SpiHal [Type]:Feature [RootCause]:NA [Solution]:PowerManager migration

Change-Id: I783dd4d6de6e20ce191af7718214e3fd2535c8e1
---

diff --git a/hidl-gen.sh b/hidl-gen.sh
index 13677bf..2b6449f 100755
--- a/hidl-gen.sh
+++ b/hidl-gen.sh
@@ -15,6 +15,7 @@
 	"vendor.lenovo.hardware.ifaa@2.0"
 	"vendor.lenovo.hardware.soter@1.0"
 	"vendor.lenovo.hardware.virtualinput@1.0"
+	"vendor.lenovo.hardware.spisignal@1.0"
 )
 
 LENOVO_HAL_SRC_FOLDER=lenovo/lgsi/opensource/interfaces
diff --git a/spisignal/1.0/Android.bp b/spisignal/1.0/Android.bp
new file mode 100644
index 0000000..3a88581
--- /dev/null
+++ b/spisignal/1.0/Android.bp
@@ -0,0 +1,14 @@
+// This file is autogenerated by hidl-gen -Landroidbp.
+
+hidl_interface {
+    name: "vendor.lenovo.hardware.spisignal@1.0",
+    root: "vendor.lenovo.hardware",
+    srcs: [
+        "ILenovoSpiSignal.hal",
+        "ISpiSignalCallback.hal",
+    ],
+    interfaces: [
+        "android.hidl.base@1.0",
+    ],
+    gen_java: true,
+}
diff --git a/spisignal/1.0/ILenovoSpiSignal.hal b/spisignal/1.0/ILenovoSpiSignal.hal
new file mode 100644
index 0000000..c1d6e54
--- /dev/null
+++ b/spisignal/1.0/ILenovoSpiSignal.hal
@@ -0,0 +1,12 @@
+package vendor.lenovo.hardware.spisignal@1.0;
+import ISpiSignalCallback;
+
+interface ILenovoSpiSignal{
+    readSpiData(int32_t funcId) generates(vec<uint8_t> data);
+    readSpiValue(int32_t funcId) generates(int32_t value);
+    readSpiString(int32_t funcId) generates(string value);
+    setSpiValue(int32_t funcId, int32_t value);
+    setSpiData(int32_t funcId, vec<uint8_t> data);
+    registerCallback(int32_t func, ISpiSignalCallback callback);
+    unregisterCallback(ISpiSignalCallback callback);
+};
\ No newline at end of file
diff --git a/spisignal/1.0/ISpiSignalCallback.hal b/spisignal/1.0/ISpiSignalCallback.hal
new file mode 100644
index 0000000..c6c93d2
--- /dev/null
+++ b/spisignal/1.0/ISpiSignalCallback.hal
@@ -0,0 +1,6 @@
+package vendor.lenovo.hardware.spisignal@1.0;
+
+interface ISpiSignalCallback{
+    oneway onSpiDataCallback(int32_t funcId,vec<uint8_t> data);
+    oneway onSpiValueCallback(int32_t funcId,int32_t value);
+};
\ No newline at end of file
